<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nutrient Popup Demo</title>
</head>
<body>
<script type="module" src="nutrient_popup.js"></script>

  <!-- Example trigger -->
  <button class="nutrient-link" data-food="Apples, gala, with skin, raw">Show Apple Nutrients</button>

  <!-- The nutrient popup component -->
  <nutrient-popup id="nutrientPopup"></nutrient-popup>

  <script type="module">
    import { getNutrientHtml } from './api/api.js'; // Adjust path as needed
    import * as api from './api/api.js';

    api.ensureDataLoaded()
    const nutrientPopup = document.getElementById('nutrientPopup');

    // Add click event listener to trigger the popup
    document.addEventListener('click', async (event) => {
      const nutrientLink = event.target.closest('.nutrient-link');
      if (nutrientLink) {
        const food = nutrientLink.getAttribute('data-food');
        await nutrientPopup.show(food);
      }
    });
  </script>
</body>
</html>